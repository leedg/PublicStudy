# ServerEngine 부하테스트 로그 (최초 1회)

## 1. 실행 정보

- 테스트 일시: `2026-02-26 19:28:52 ~ 19:29:06`
- 실행자: `Codex`
- 브랜치/커밋: `작업 중 (git status 기준)`
- OS: `Windows (PowerShell)`
- 서버 머신: `N/A (동일 머신 실행)`
- 클라이언트 머신: `N/A (동일 머신 실행)`
- 빌드: `x64 Debug (기존 바이너리)`
- 실행 방식: `TestDBServer -> TestServer -> TestClient`, 10초 구동 후 graceful shutdown event

로그 파일:
- `.tmp_run_logs/20260226_192852_db_out.txt`
- `.tmp_run_logs/20260226_192852_db_err.txt`
- `.tmp_run_logs/20260226_192852_server_out.txt`
- `.tmp_run_logs/20260226_192852_server_err.txt`
- `.tmp_run_logs/20260226_192852_client_out.txt`
- `.tmp_run_logs/20260226_192852_client_err.txt`

---

## 2. 시나리오 정의

- 시나리오 이름: `Baseline`
- 목표 동시 접속: `1`
- 실행 시간: `10초`
- 패킷 크기/분포: `기본 클라이언트 Ping/Pong 트래픽`
- 트래픽 패턴: `고정`

---

## 3. 관측 메트릭

| 항목 | 측정값 | 목표 | 결과 |
|------|--------|------|------|
| Peak 동시접속 | 1 | 1 | Pass |
| 평균 처리량 (pkt/s) | N/A | N/A | N/A |
| 평균 처리량 (MB/s) | N/A | N/A | N/A |
| p95 latency (ms) | N/A | N/A | N/A |
| p99 latency (ms) | N/A | N/A | N/A |
| 오류율 (%) | 0% (표준에러 기준) | 0% | Pass |
| disconnect 횟수 | 1 (정상 종료 시) | N/A | Pass |
| CPU 사용률 (%) | N/A | N/A | N/A |
| 메모리 사용량 (MB) | N/A | N/A | N/A |
| 핸들/스레드 수 변화 | N/A | N/A | N/A |

클라이언트 지연 통계(로그 출력):
- Ping sent: `2`
- Pong recv: `2`
- Min RTT: `0ms`
- Max RTT: `5ms`
- Avg RTT: `2ms`

---

## 4. 이벤트/오류 로그

| 시각 | 컴포넌트 | 이벤트 | 에러코드/메시지 | 영향도 |
|------|----------|--------|-----------------|--------|
| 19:28:54 | TestServer | DB 서버 연결 성공 | 없음 | Low |
| 19:28:55 | TestServer | 클라이언트 세션 생성/연결 | 없음 | Low |
| 19:29:00 | Client | Ping/Pong 확인 | RTT 5ms (샘플) | Low |
| 19:29:06 | TestServer | `DB server closed connection` 경고 | 종료 시점 경고 | Low |

표준 에러:
- DB: 없음
- Server: 없음
- Client: 없음

---

## 5. 시나리오별 관찰 노트

- 정상 동작:
  - 서버/DB/클라이언트 모두 기동 및 연결 성공
  - ping/pong 왕복 확인
  - graceful shutdown event 처리로 정상 종료
- 성능 저하 구간:
  - 없음 (저부하 baseline)
- 재현 조건:
  - 동일 바이너리, 동일 포트(9000/8002), 동일 머신
- 추정 병목:
  - 본 실행에서는 관측 불가

---

## 6. Graceful Shutdown 체크

- 세션 전체 종료: `Yes`
- 큐 드레인 완료: `Yes` (DBTaskQueue processed 2, failed 0)
- 스레드 join 완료: `Yes` (All I/O threads stopped 로그 확인)
- 프로세스 잔존 없음: `Yes`

---

## 7. 최종 판정

- 종합 결과: `Pass (Baseline only)`
- 근거 요약:
  - 연결/통신/종료 플로우 정상
  - 표준에러 없음
  - 치명 오류/크래시 없음
- 다음 액션:
  1. `Ramp-up` 시나리오 실행 (`1 -> 100 -> 500 -> 1000`)
  2. `Sustain 30분` 실행 후 메모리/핸들 추세 기록
  3. 재빌드 환경에 `MSBuild.exe` PATH 설정 후 Release 재측정

